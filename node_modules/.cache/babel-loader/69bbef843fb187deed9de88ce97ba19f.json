{"ast":null,"code":"var _jsxFileName = \"F:\\\\interview coding  questions\\\\rewards program\\\\rewardsapp\\\\src\\\\App.js\";\nimport React, { useState, useEffect, Fragment } from 'react';\nimport './App.css';\nimport data from './data';\n\nfunction App() {\n  const [loadedData, setloadedData] = useState({});\n  const [userRewards, setCalcRewards] = useState({});\n  const [userTransactions, setUserTransactions] = useState([]);\n  const [users, setUsers] = useState([]);\n  const [currentUser, setCurrentUser] = useState(\"\");\n  const [newTransaction, setNewTransaction] = useState({\n    date: new Date(),\n    amount: 0\n  });\n  useEffect(() => {\n    console.log('Help');\n    setloadedData({ ...data\n    });\n    setUsers([...Object.keys(data)]);\n  }, []);\n\n  const userSelect = value => {\n    setCurrentUser(value);\n    let userData = loadedData[value];\n    let monthT = {\n      1: {\n        amounts: [],\n        rewards: 0\n      },\n      2: {\n        amounts: [],\n        rewards: 0\n      },\n      3: {\n        amounts: [],\n        rewards: 0\n      }\n    };\n\n    for (let i = 0; i < userData.length; i++) {\n      let month = new Date(userData[i]['date']);\n\n      if (month.getMonth() + 1 == 1 || month.getMonth() + 1 == 2 || month.getMonth() + 1 == 3) {\n        monthT[month.getMonth() + 1]['amounts'].push(userData[i]['amount']);\n      }\n    }\n\n    for (let key in monthT) {\n      let total_month_rewards = 0;\n\n      for (let i = 0; i < monthT[key]['amounts'].length; i++) {\n        let price = monthT[key]['amounts'][i];\n        total_month_rewards = total_month_rewards + calRew(price);\n      }\n\n      monthT[key]['rewards'] = total_month_rewards;\n    }\n\n    console.log(monthT);\n    setCalcRewards({ ...monthT\n    });\n    setUserTransactions([...userData]);\n  };\n\n  const updateInput = e => {\n    if (e.target.name === \"date\") {\n      setNewTransaction({ ...newTransaction,\n        ...{\n          date: e.target.value\n        }\n      });\n    }\n\n    if (e.target.name === \"amount\") {\n      setNewTransaction({ ...newTransaction,\n        ...{\n          amount: e.target.value\n        }\n      });\n    }\n  };\n\n  const btnAddtransaction = () => {\n    let data = { ...loadedData\n    };\n    let month = new Date(newTransaction['date']);\n\n    if (month.getMonth() + 1 == 1 || month.getMonth() + 1 == 2 || month.getMonth() + 1 == 3) {\n      data[currentUser].push(newTransaction);\n      console.log(data);\n      setloadedData({ ...data\n      });\n      userSelect(currentUser);\n    }\n\n    setNewTransaction({\n      date: new Date(),\n      amount: 0\n    });\n  };\n\n  return (//username 8character\n    React.createElement(\"div\", {\n      style: {\n        marginTop: \"20px\",\n        marginBottom: \"50px\",\n        fontSize: \"20px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      style: {\n        textAlign: \"center\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, \"User Rewards Dashborad\"), React.createElement(\"div\", {\n      className: \"select-style\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"select\", {\n      onChange: e => userSelect(e.target.value),\n      value: currentUser,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"\",\n      disabled: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"Select User\"), users.map((item, index) => {\n      return React.createElement(\"option\", {\n        key: index,\n        value: item,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, \" \", item.toUpperCase(), \" \");\n    }))), Object.keys(userRewards).length > 0 && React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      className: \"customers\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, \"Month\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, \"Rewards\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, \"First Month\"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, userRewards[1][\"rewards\"])), React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, \"Second Month\"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, userRewards[2][\"rewards\"])), React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, \"Third Month\"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, userRewards[3][\"rewards\"])), React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, \"Total Reward\"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, userRewards[1][\"rewards\"] + userRewards[2][\"rewards\"] + userRewards[3][\"rewards\"])))), React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, \"User Transactions\"), userTransactions.length > 0 ? React.createElement(\"table\", {\n      className: \"customers\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, \"Date\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, \"Amount\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, \"Rewards\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, userTransactions.map((item, index) => {\n      return React.createElement(\"tr\", {\n        key: index,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, item[\"date\"]), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, item[\"amount\"]), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, calRew(item[\"amount\"])));\n    }))) : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, \"No Transactions Found\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, \"Add Transactions\"), React.createElement(\"h5\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, \"Only Transactions between 01/01/2020 and 03/31/2020 will be added\"), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, \"Date : \"), React.createElement(\"input\", {\n      type: \"date\",\n      name: \"date\",\n      value: newTransaction.date,\n      onChange: e => updateInput(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, \"Amount :\"), React.createElement(\"input\", {\n      type: \"number\",\n      name: \"amount\",\n      value: newTransaction.amount,\n      onChange: e => updateInput(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      onClick: () => btnAddtransaction(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, \"Add Transaction\"))))\n  );\n}\n\nexport default App;\n\nfunction calRew(price) {\n  let rewards = 0;\n\n  if (price > 100) {\n    rewards = (price - 100) * 2 + 1 * 50;\n  }\n\n  if (price > 50) {\n    //rewards = rewards + (price - 50);\n    rewards = rewards + 1;\n  }\n\n  return rewards;\n}","map":{"version":3,"sources":["F:/interview coding  questions/rewards program/rewardsapp/src/App.js"],"names":["React","useState","useEffect","Fragment","data","App","loadedData","setloadedData","userRewards","setCalcRewards","userTransactions","setUserTransactions","users","setUsers","currentUser","setCurrentUser","newTransaction","setNewTransaction","date","Date","amount","console","log","Object","keys","userSelect","value","userData","monthT","amounts","rewards","i","length","month","getMonth","push","key","total_month_rewards","price","calRew","updateInput","e","target","name","btnAddtransaction","marginTop","marginBottom","fontSize","textAlign","map","item","index","toUpperCase"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, Fragment } from 'react';\nimport './App.css';\nimport data from './data';\n\nfunction App() {\n  const [loadedData, setloadedData] = useState({});\n  const [userRewards, setCalcRewards] = useState({});\n  const [userTransactions, setUserTransactions] = useState([]);\n  const [users, setUsers] = useState([]);\n  const [currentUser, setCurrentUser] = useState(\"\");\n  const [newTransaction, setNewTransaction] = useState({ date: new Date(), amount: 0 });\n\n  useEffect(() => {\n    console.log('Help');\n    setloadedData({ ...data });\n    setUsers([...Object.keys(data)]);\n\n  }, []);\n\n\n  const userSelect = (value) => {\n    setCurrentUser(value);\n    let userData = loadedData[value];\n\n    let monthT = {\n      1: {\n        amounts: [],\n        rewards: 0,\n      },\n      2: {\n        amounts: [],\n        rewards: 0,\n      },\n      3: {\n        amounts: [],\n        rewards: 0,\n      },\n    };\n    for (let i = 0; i < userData.length; i++) {\n      let month = new Date(userData[i]['date']);\n      if (month.getMonth() + 1 == 1 || month.getMonth() + 1 == 2 || month.getMonth() + 1 == 3) {\n        monthT[month.getMonth() + 1]['amounts'].push(userData[i]['amount']);\n      }\n    }\n    for (let key in monthT) {\n      let total_month_rewards = 0;\n      for (let i = 0; i < monthT[key]['amounts'].length; i++) {\n        let price = monthT[key]['amounts'][i];\n\n        total_month_rewards = total_month_rewards + calRew(price);\n      }\n      monthT[key]['rewards'] = total_month_rewards;\n    }\n    console.log(monthT)\n    setCalcRewards({ ...monthT });\n    setUserTransactions([...userData]);\n  };\n\n  const updateInput = (e) => {\n    if (e.target.name === \"date\") {\n      setNewTransaction({ ...newTransaction, ...{ date: e.target.value } });\n    }\n    if (e.target.name === \"amount\") {\n      setNewTransaction({ ...newTransaction, ...{ amount: e.target.value } });\n    }\n  }\n\n  const btnAddtransaction = () => {\n    let data = { ...loadedData };\n    let month = new Date(newTransaction['date']);\n    if (month.getMonth() + 1 == 1 || month.getMonth() + 1 == 2 || month.getMonth() + 1 == 3) {\n      data[currentUser].push(newTransaction);\n      console.log(data)\n      setloadedData({ ...data });\n\n      userSelect(currentUser);\n    }\n    setNewTransaction({ date: new Date(), amount: 0 });\n  }\n  return (\n    //username 8character\n    <div style={{\n      marginTop: \"20px\",\n      marginBottom: \"50px\",\n      fontSize: \"20px\",\n    }}>\n      <h2 style={{ textAlign: \"center\" }}>User Rewards Dashborad</h2>\n      <div className=\"select-style\">\n        <select onChange={e => userSelect(e.target.value)} value={currentUser} >\n          <option value=\"\" disabled>Select User</option>\n          {users.map((item, index) => {\n            return (\n              <option key={index} value={item}> {item.toUpperCase()} </option>\n            );\n          })}\n        </select>\n      </div>\n      {Object.keys(userRewards).length > 0 &&\n        <Fragment>\n          <table className=\"customers\">\n            <thead>\n              <tr>\n                <th>Month</th>\n                <th>Rewards</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr>\n                <td>First Month</td>\n                <td>{userRewards[1][\"rewards\"]}</td>\n              </tr>\n              <tr>\n                <td>Second Month</td>\n                <td>{userRewards[2][\"rewards\"]}</td>\n              </tr>\n              <tr>\n                <td>Third Month</td>\n                <td>{userRewards[3][\"rewards\"]}</td>\n              </tr>\n              <tr>\n                <td>Total Reward</td>\n                <td>{userRewards[1][\"rewards\"] + userRewards[2][\"rewards\"] + userRewards[3][\"rewards\"]}</td>\n              </tr>\n            </tbody>\n          </table>\n          <h4>User Transactions</h4>\n          {userTransactions.length > 0 ?\n            <table className=\"customers\">\n              <thead>\n                <tr>\n                  <th>Date</th>\n                  <th>Amount</th>\n                  <th>Rewards</th>\n                </tr>\n\n              </thead>\n              <tbody>\n                {userTransactions.map((item, index) => {\n                  return <tr key={index}>\n                    <td>{item[\"date\"]}</td>\n                    <td>{item[\"amount\"]}</td>\n                    <td>{calRew(item[\"amount\"])}</td>\n                  </tr>\n                })}\n              </tbody>\n            </table>\n            : <div>No Transactions Found</div>}\n          <div>\n            <h4>Add Transactions</h4>\n            <h5>Only Transactions between 01/01/2020 and 03/31/2020 will be added</h5>\n            <label>Date : </label><input type=\"date\" name=\"date\" value={newTransaction.date} onChange={(e) => updateInput(e)}></input>\n            <label>Amount :</label><input type=\"number\" name=\"amount\" value={newTransaction.amount} onChange={(e) => updateInput(e)}></input>\n            <button onClick={() => btnAddtransaction()}>Add Transaction</button>\n          </div>\n        </Fragment>\n      }\n\n\n    </ div >\n  );\n}\n\nexport default App;\n\nfunction calRew(price) {\n  let rewards = 0;\n  if (price > 100) {\n\n\n\n    rewards = (price - 100) * 2 + (1*50);\n  }\n  if (price > 50) {\n    //rewards = rewards + (price - 50);\n    rewards=rewards+(1)\n  }\n  return rewards;\n\n}\n"]},"metadata":{},"sourceType":"module"}